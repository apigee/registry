# Copyright 2022 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apigeeregistry/v1
kind: API
metadata:
  name: registry
  labels:
    apihub-owner: google
  annotations:
    apihub-score: "99"
data:
  displayName: Apigee Registry API
  description: The Registry API allows teams to track and manage machine-readable descriptions of APIs.
  availability: Preview
  recommendedVersion: v1
  recommendedDeployment: prod
  versions:
    - metadata:
        name: v1
        labels:
          apihub-team: apigee
        annotations:
          release-date: "2021-12-15"
      data:
        displayName: v1
        description: New in 2022
        state: Staging
        specs:
          - metadata:
              name: openapi.yaml
              labels:
                openapi-verified: "true"
              annotations:
                linters: spectral,gnostic
            data:
              filename: openapi.yaml
              description: OpenAPI description of the Registry API
              mimeType: application/x.openapi+gzip;version=3
              sourceURI: https://raw.githubusercontent.com/apigee/registry/main/openapi.yaml
  deployments:
    - metadata:
        name: prod
        labels:
          platform: google
        annotations:
          region: us-central1
      data:
        displayName: Production
        description: The hosted deployment of the Registry API
        apiSpecRevision: v1/specs/openapi.yaml@latest
        endpointURI: https://apigeeregistry.googleapis.com
        externalChannelURI: https://apigee.github.io/registry/
        intendedAudience: Public
        accessGuidance: See https://github.com/apigee/registry for tools and usage information.
  artifacts:
    - kind: ReferenceList
      metadata:
        name: apihub-related
      data:
        displayName: ""
        description: Defines a list of related resources
        references:
          - id: github
            displayName: GitHub Repo
            category: apihub-source-code
            resource: ""
            uri: https://github.com/apigee/registry
          - id: docs
            displayName: GitHub Documentation
            category: apihub-other
            resource: ""
            uri: https://apigee.github.io/registry/
